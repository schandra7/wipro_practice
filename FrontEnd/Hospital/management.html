<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hospital Management System</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body { background-color: #f8f9fa; }
    .nav-link.active { font-weight: bold; color: #0d6efd !important; }
    .content-section { display: none; }
    .content-section.active { display: block; }
  </style>
</head>
<body>
  <div class="container py-5">
    <div id="authSection">
      <h2 class="mb-4">Login</h2>
      <div class="card p-3 mb-3">
        <input type="email" id="loginEmail" class="form-control mb-2" placeholder="Email" />
        <input type="password" id="loginPassword" class="form-control mb-3" placeholder="Password" />
        <button class="btn btn-primary w-100 mb-2" onclick="login()">Login</button>
        <p class="text-center">Don't have an account? <a href="#" onclick="showRegister()">Register</a></p>
      </div>
      <div id="registerCard" class="card p-3 d-none">
        <h4>Register</h4>
        <input type="text" id="regName" class="form-control mb-2" placeholder="Full Name" />
        <input type="email" id="regEmail" class="form-control mb-2" placeholder="Email" />
        <input type="password" id="regPassword" class="form-control mb-3" placeholder="Password" />
        <button class="btn btn-success w-100 mb-2" onclick="register()">Register</button>
        <p class="text-center"><a href="#" onclick="showLogin()">Back to Login</a></p>
      </div>
    </div>

    <div id="mainApp" class="d-none">
      <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">Hospital Management</a>
          <ul class="navbar-nav me-auto">
            <li class="nav-item"><a class="nav-link active" data-section="appointments" href="#">Appointments</a></li>
            <li class="nav-item"><a class="nav-link" data-section="doctors" href="#">Doctors</a></li>
            <li class="nav-item"><a class="nav-link" data-section="patients" href="#">Patients</a></li>
          </ul>
          <button class="btn btn-light btn-sm" onclick="logout()">Logout</button>
        </div>
      </nav>
      <div class="container py-4">
        <div id="appointments" class="content-section active">
          <h2>Book Appointment</h2>
          <div class="card p-3 mb-4">
            <div class="row g-3">
              <div class="col-md-6"><input type="text" id="patientName" class="form-control" placeholder="Patient Name" /></div>
              <div class="col-md-3"><input type="number" id="patientAge" class="form-control" placeholder="Age" /></div>
              <div class="col-md-3"><input type="text" id="patientContact" class="form-control" placeholder="Contact Number" /></div>
              <div class="col-md-4">
                <select id="specialist" class="form-select" onchange="loadDoctors()">
                  <option value="">Select Specialist</option>
                  <option value="Cardiologist">Cardiologist</option>
                  <option value="Dentist">Dentist</option>
                  <option value="Neurologist">Neurologist</option>
                </select>
              </div>
              <div class="col-md-4"><select id="doctor" class="form-select"><option value="">Select Doctor</option></select></div>
              <div class="col-md-4"><input type="date" id="appointmentDate" class="form-control" /></div>
              <div class="col-12"><button class="btn btn-success w-100" onclick="bookAppointment()">Book Appointment</button></div>
            </div>
          </div>
          <h3>Appointments List</h3>
          <table class="table table-bordered"><thead class="table-dark"><tr><th>Patient Name</th><th>Age</th><th>Contact</th><th>Specialist</th><th>Doctor</th><th>Date</th></tr></thead><tbody id="appointmentsTable"></tbody></table>
        </div>
        <div id="doctors" class="content-section">
          <h2>Doctors List</h2>
          <ul class="list-group" id="doctorsList">
            <li class="list-group-item">Dr. Rajeev Sharma - Cardiologist</li>
            <li class="list-group-item">Dr. Neha Kapoor - Cardiologist</li>
            <li class="list-group-item">Dr. Amit Verma - Cardiologist</li>
            <li class="list-group-item">Dr. Priya Singh - Dentist</li>
            <li class="list-group-item">Dr. Rohit Gupta - Dentist</li>
            <li class="list-group-item">Dr. Kavita Mehta - Dentist</li>
            <li class="list-group-item">Dr. Anil Kumar - Neurologist</li>
            <li class="list-group-item">Dr. Sunita Joshi - Neurologist</li>
            <li class="list-group-item">Dr. Sameer Malhotra - Neurologist</li>
          </ul>
        </div>
        <div id="patients" class="content-section">
          <h2>Patients List</h2>
          <ul class="list-group" id="patientsList"></ul>
        </div>
      </div>
    </div>
  </div>

  <script>
    const doctorsData = {
      Cardiologist: ["Dr. Rajeev Sharma", "Dr. Neha Kapoor", "Dr. Amit Verma"],
      Dentist: ["Dr. Priya Singh", "Dr. Rohit Gupta", "Dr. Kavita Mehta"],
      Neurologist: ["Dr. Anil Kumar", "Dr. Sunita Joshi", "Dr. Sameer Malhotra"]
    };
    const patientsList = [];
    let users = JSON.parse(localStorage.getItem('users') || '[]');
    let loggedInUser = null;

    function showRegister(){document.getElementById('registerCard').classList.remove('d-none');}
    function showLogin(){document.getElementById('registerCard').classList.add('d-none');}

    function register(){
      const name=document.getElementById('regName').value;
      const email=document.getElementById('regEmail').value;
      const pass=document.getElementById('regPassword').value;
      if(!name||!email||!pass){alert('Please fill all fields');return;}
      if(users.find(u=>u.email===email)){alert('Email already exists');return;}
      users.push({name,email,pass});
      localStorage.setItem('users',JSON.stringify(users));
      alert('Registered successfully');
      showLogin();
    }

    function login(){
      const email=document.getElementById('loginEmail').value;
      const pass=document.getElementById('loginPassword').value;
      const user=users.find(u=>u.email===email && u.pass===pass);
      if(!user){alert('Invalid credentials');return;}
      loggedInUser=user;
      document.getElementById('authSection').classList.add('d-none');
      document.getElementById('mainApp').classList.remove('d-none');
    }

    function logout(){loggedInUser=null;document.getElementById('mainApp').classList.add('d-none');document.getElementById('authSection').classList.remove('d-none');}

    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', e => {
        e.preventDefault();
        document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
        link.classList.add('active');
        document.querySelectorAll('.content-section').forEach(sec => sec.classList.remove('active'));
        document.getElementById(link.dataset.section).classList.add('active');
      });
    });

    function loadDoctors(){
      const specialist=document.getElementById('specialist').value;
      const doctorSelect=document.getElementById('doctor');
      doctorSelect.innerHTML='<option value="">Select Doctor</option>';
      if(specialist && doctorsData[specialist]){
        doctorsData[specialist].forEach(doc=>{
          const option=document.createElement('option');
          option.value=doc;option.textContent=doc;doctorSelect.appendChild(option);
        });
      }
    }

    function bookAppointment(){
      const name=document.getElementById('patientName').value;
      const age=document.getElementById('patientAge').value;
      const contact=document.getElementById('patientContact').value;
      const specialist=document.getElementById('specialist').value;
      const doctor=document.getElementById('doctor').value;
      const date=document.getElementById('appointmentDate').value;
      if(!name||!age||!contact||!specialist||!doctor||!date){alert('Please fill all details');return;}
      const row=document.createElement('tr');
      row.innerHTML=`<td>${name}</td><td>${age}</td><td>${contact}</td><td>${specialist}</td><td>${doctor}</td><td>${date}</td>`;
      document.getElementById('appointmentsTable').appendChild(row);
      patientsList.push(name);
      updatePatientsList();
      document.getElementById('patientName').value='';
      document.getElementById('patientAge').value='';
      document.getElementById('patientContact').value='';
      document.getElementById('specialist').value='';
      document.getElementById('doctor').innerHTML='<option value="">Select Doctor</option>';
      document.getElementById('appointmentDate').value='';
    }

    function updatePatientsList(){
      const patientsUl=document.getElementById('patientsList');
      patientsUl.innerHTML='';
      patientsList.forEach(p=>{
        const li=document.createElement('li');
        li.className='list-group-item';
        li.textContent=p;
        patientsUl.appendChild(li);
      });
    }
  </script>
</body>
</html>
